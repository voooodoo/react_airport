(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=a.n(l),o=a(1),i=a(2),s=a(3),u=a(6),m=a(8),d=a(7),f=a(9),v=function(e){var t=e.clickItem,a=e.children;return r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",className:"btn nav-link",onClick:t},a))},E="arrivals",b="yesterday",p="today",h="tomorrow",g=function(e){var t=e.toogleTab,a=e.toogleDay;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement(v,{clickItem:function(){return t(E)}},"Arrivals"),r.a.createElement(v,{clickItem:function(){return t("departures")}},"Departures")),r.a.createElement("ul",{className:"nav nav-tabs ml-auto"},r.a.createElement(v,{clickItem:function(){return a(b)}},"Yesterday"),r.a.createElement(v,{clickItem:function(){return a(p)}},"Today"),r.a.createElement(v,{clickItem:function(){return a(h)}},"Tomorrow")))},D=(a(16),function(e){var t=e.toogleTab,a=e.toogleDay;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex align-items-center"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"logo"},"Airport"))),r.a.createElement(g,{toogleTab:t,toogleDay:a})))))}),y=function(e){var t=e.row,a=t.term,n=t.gateNo,l=t["airportFromID.city_en"],c=t["airportToID.city_en"],o=t.airline.en.name,i=t.fltNo,s=t.status,u=t.actual,m=new Date(u),d="".concat(m.getHours(),":").concat(m.getMinutes());return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,d),r.a.createElement("td",null,l||c),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,s))},k=(a(17),function(e){var t=e.data,a=e.setSortField;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",onClick:function(){return a("terminal")}},"Terminal"),r.a.createElement("th",{scope:"col"},"Gate"),r.a.createElement("th",{scope:"col",onClick:function(){return a("time")}},"Time"),r.a.createElement("th",{scope:"col",onClick:function(){return a("destination")}},"Destination"),r.a.createElement("th",{scope:"col",onClick:function(){return a("airline")}},"Airline"),r.a.createElement("th",{scope:"col",onClick:function(){return a("flight")}},"Flight #"),r.a.createElement("th",{scope:"col",onClick:function(){return a("status")}},"Status"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(y,{row:e,key:e.ID})})))}),w=new function e(){var t=this;Object(s.a)(this,e),this._baseUrl="https://api.iev.aero/api/flights/",this.getData=function(e){return fetch("".concat(t._baseUrl).concat(e)).then(function(e){return e.json()}).then(function(e){return e.body})}},N=(a(18),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={arrival:[],departure:[],visibleData:[],isLoading:!1,tab:E,date:a.getDate(),day:p,isSortedAsc:!0,sortField:null},a.toogleTab=function(e){if(e!==a.state.tab){var t=a.state,n=t.arrival,r=t.departure;a.setState({tab:e,visibleData:e===E?Object(i.a)(n):Object(i.a)(r)})}},a.toogleDay=function(e){if(e!==a.state.day){var t=new Date;switch(e){case b:t.setDate((new Date).getDate()-1);break;case h:t.setDate((new Date).getDate()+1)}a.setState({date:a.getDate(t),day:e,sortField:null},a.fetch)}},a.setSortField=function(e){a.setState(function(t){var n=t.sortField,r=t.tab,l=t.arrival,c=t.departure,o=t.isSortedAsc,s=!!(n!==e)||!o,u=r===E?Object(i.a)(l):Object(i.a)(c);return{isSortedAsc:s,sortField:e,visibleData:a.sortData(u,e,s)}})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"sortData",value:function(e,t,a){var n,r=a?1:-1,l=(n={},Object(o.a)(n,"terminal",function(e,t){return e.term.localeCompare(t.term)*r}),Object(o.a)(n,"time",function(e,t){return new Date(e.actual)-new Date(t.actual)*r}),Object(o.a)(n,"destination",function(e,t){var a=e["airportFromID.city_en"]||e["airportToID.city_en"],n=t["airportFromID.city_en"]||t["airportToID.city_en"];return a.localeCompare(n)*r}),Object(o.a)(n,"airline",function(e,t){var a=e.airline.en.name,n=t.airline.en.name;return a.localeCompare(n)*r}),Object(o.a)(n,"flight",function(e,t){return e.fltNo-t.fltNo*r}),Object(o.a)(n,"status",function(e,t){return e.status.localeCompare(t.status)*r}),n)[t];return Object(i.a)(e).sort(l)}},{key:"getDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())}},{key:"fetch",value:function(){var e=this;this.setState({isLoading:!0}),w.getData(this.state.date).then(function(t){var a=t.arrival,n=t.departure;e.setState({arrival:a,departure:n,isLoading:!1,visibleData:a})})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.state,t=e.tab,a=e.date,n=e.day,l=e.isLoading,c=e.visibleData,o=l?r.a.createElement("div",{className:"spinner spinner-border text-primary"}):r.a.createElement(k,{data:c,setSortField:this.setSortField});return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{toogleTab:this.toogleTab,toogleDay:this.toogleDay}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("main",null,r.a.createElement("h2",{className:"mb-2 mt-2 text-uppercase"},t," \xa0",r.a.createElement("small",null,n,": \xa0"),r.a.createElement("small",null,a)),o)))))}}]),t}(n.Component));c.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.92874ad2.chunk.js.map