(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(1),i=a(2),s=a(5),u=a(7),m=a(6),d=a(8),f=function(e){var t=e.clickItem,a=e.children;return r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",className:"btn nav-link",onClick:t},a))},E="arrivals",h="yesterday",p="today",v="tomorrow",b=function(e){var t=e.toogleTab,a=e.toogleDay;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement(f,{clickItem:function(){return t(E)}},"Arrivals"),r.a.createElement(f,{clickItem:function(){return t("departures")}},"Departures")),r.a.createElement("ul",{className:"nav nav-tabs ml-auto"},r.a.createElement(f,{clickItem:function(){return a(h)}},"Yesterday"),r.a.createElement(f,{clickItem:function(){return a(p)}},"Today"),r.a.createElement(f,{clickItem:function(){return a(v)}},"Tomorrow")))},g=(a(15),function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex align-items-center"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"logo"},"Airport"))),r.a.createElement(b,e)))))}),D=function(e){var t=e.row,a=t.term,n=t.gateNo,l=t["airportFromID.city_en"],c=t["airportToID.city_en"],o=t.airline.en.name,i=t.fltNo,s=t.status,u=t.actual,m=new Date(u),d="".concat(m.getHours(),":").concat(m.getMinutes());return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,d),r.a.createElement("td",null,l||c),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,s))},y=(a(16),function(e){var t=e.data,a=e.setrSortField;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",onClick:function(){return a("terminal")}},"Terminal"),r.a.createElement("th",{scope:"col"},"Gate"),r.a.createElement("th",{scope:"col",onClick:function(){return a("time")}},"Time"),r.a.createElement("th",{scope:"col",onClick:function(){return a("destination")}},"Destination"),r.a.createElement("th",{scope:"col",onClick:function(){return a("airline")}},"Airline"),r.a.createElement("th",{scope:"col",onClick:function(){return a("flight")}},"Flight #"),r.a.createElement("th",{scope:"col",onClick:function(){return a("status")}},"Status"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(D,{row:e,key:e.ID})})))}),k=new function e(){var t=this;Object(i.a)(this,e),this._baseUrl="https://api.iev.aero/api/flights/",this.getData=function(e){return fetch("".concat(t._baseUrl).concat(e)).then(function(e){return e.json()}).then(function(e){return e.body})}},w=(a(17),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tab:E,arrival:[],departure:[],date:a.getDate(),day:p,sortField:null,isLoading:!1},a.toogleTab=function(e){e!==a.state.tab&&a.setState({tab:e,sortField:null})},a.toogleDay=function(e){if(e!==a.state.day){var t=new Date;switch(e){case h:t.setDate((new Date).getDate()-1);break;case v:t.setDate((new Date).getDate()+1)}a.setState({date:a.getDate(t),day:e,sortField:null},function(){return a.fetch()})}},a.setrSortField=function(e){a.state.sortField!==e&&a.setState({sortField:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"sortData",value:function(e,t){var a,n=(a={},Object(o.a)(a,"terminal",function(e,t){return e.term.localeCompare(t.term)}),Object(o.a)(a,"time",function(e,t){return new Date(e.actual)-new Date(t.actual)}),Object(o.a)(a,"destination",function(e,t){var a=e["airportFromID.city_en"]||e["airportToID.city_en"],n=t["airportFromID.city_en"]||t["airportToID.city_en"];return a.localeCompare(n)}),Object(o.a)(a,"airline",function(e,t){var a=e.airline.en.name,n=t.airline.en.name;return a.localeCompare(n)}),Object(o.a)(a,"flight",function(e,t){return e.fltNo-t.fltNo}),Object(o.a)(a,"status",function(e,t){return e.status.localeCompare(t.status)}),a)[t];return e.sort(n)}},{key:"getDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}},{key:"fetch",value:function(){var e=this;this.setState({isLoading:!0}),k.getData(this.state.date).then(function(t){var a=t.arrival,n=t.departure;e.setState({arrival:a,departure:n,isLoading:!1})})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.state,t=e.arrival,a=e.departure,n=e.tab,l=e.date,c=e.day,o=e.sortField,i=e.isLoading,s=n===E?t:a;o&&(s=this.sortData(s,o));var u=i?r.a.createElement("div",{class:"spinner spinner-border text-primary"}):r.a.createElement(y,{data:s,setrSortField:this.setrSortField});return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{toogleTab:this.toogleTab,toogleDay:this.toogleDay}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("main",null,r.a.createElement("h2",{className:"mb-2 mt-2 text-uppercase"},n," \xa0",r.a.createElement("small",null,c,": \xa0"),r.a.createElement("small",null,l)),u)))))}}]),t}(n.Component));c.a.render(r.a.createElement(w,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.1f509107.chunk.js.map