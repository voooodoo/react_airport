(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=a(1),i=a(2),u=a(5),s=a(7),m=a(6),d=a(8),f=function(e){var t=e.clickItem,a=e.children;return r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",className:"btn nav-link",onClick:t},a))},p="arrivals",E="yesterday",v="today",h="tomorrow",g=function(e){var t=e.toogleTab,a=e.toogleDay;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"nav nav-tabs"},r.a.createElement(f,{clickItem:function(){return t(p)}},"Arrivals"),r.a.createElement(f,{clickItem:function(){return t("departures")}},"Departures")),r.a.createElement("ul",{className:"nav nav-tabs ml-auto"},r.a.createElement(f,{clickItem:function(){return a(E)}},"Yesterday"),r.a.createElement(f,{clickItem:function(){return a(v)}},"Today"),r.a.createElement(f,{clickItem:function(){return a(h)}},"Tomorrow")))},D=(a(15),function(e){var t=e.toogleTab,a=e.toogleDay;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex align-items-center"},r.a.createElement("ul",{className:"nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"logo"},"Airport"))),r.a.createElement(g,{toogleTab:t,toogleDay:a})))))}),b=function(e){var t=e.row,a=t.term,n=t.gateNo,l=t["airportFromID.city_en"],c=t["airportToID.city_en"],o=t.airline.en.name,i=t.fltNo,u=t.status,s=t.actual,m=new Date(s),d="".concat(m.getHours(),":").concat(m.getMinutes());return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,d),r.a.createElement("td",null,l||c),r.a.createElement("td",null,o),r.a.createElement("td",null,i),r.a.createElement("td",null,u))},y="ascending",w="descending",k=(a(16),function(e){var t=e.data,a=e.setrSortField;return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",onClick:function(){return a("terminal")}},"Terminal"),r.a.createElement("th",{scope:"col"},"Gate"),r.a.createElement("th",{scope:"col",onClick:function(){return a("time")}},"Time"),r.a.createElement("th",{scope:"col",onClick:function(){return a("destination")}},"Destination"),r.a.createElement("th",{scope:"col",onClick:function(){return a("airline")}},"Airline"),r.a.createElement("th",{scope:"col",onClick:function(){return a("flight")}},"Flight #"),r.a.createElement("th",{scope:"col",onClick:function(){return a("status")}},"Status"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(b,{row:e,key:e.ID})})))}),N=new function e(){var t=this;Object(i.a)(this,e),this._baseUrl="https://api.iev.aero/api/flights/",this.getData=function(e){return fetch("".concat(t._baseUrl).concat(e)).then(function(e){return e.json()}).then(function(e){return e.body})}},F=(a(17),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tab:p,arrival:[],departure:[],date:a.getDate(),day:v,sortField:null,sortOrder:y,isLoading:!1},a.toogleTab=function(e){e!==a.state.tab&&a.setState({tab:e,sortField:null})},a.toogleDay=function(e){if(e!==a.state.day){var t=new Date;switch(e){case E:t.setDate((new Date).getDate()-1);break;case h:t.setDate((new Date).getDate()+1)}a.setState({date:a.getDate(t),day:e,sortField:null},a.fetch)}},a.setrSortField=function(e){a.state.sortField!==e?a.setState({sortField:e,sortOrder:y}):a.setState(function(e){return{sortOrder:e.sortOrder===y?w:y}})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"sortData",value:function(e,t,a){var n,r=(n={},Object(o.a)(n,"terminal",a===y?function(e,t){return e.term.localeCompare(t.term)}:function(e,t){return t.term.localeCompare(e.term)}),Object(o.a)(n,"time",a===y?function(e,t){return new Date(e.actual)-new Date(t.actual)}:function(e,t){return new Date(t.actual)-new Date(e.actual)}),Object(o.a)(n,"destination",a===y?function(e,t){var a=e["airportFromID.city_en"]||e["airportToID.city_en"],n=t["airportFromID.city_en"]||t["airportToID.city_en"];return a.localeCompare(n)}:function(e,t){var a=e["airportFromID.city_en"]||e["airportToID.city_en"];return(t["airportFromID.city_en"]||t["airportToID.city_en"]).localeCompare(a)}),Object(o.a)(n,"airline",a===y?function(e,t){var a=e.airline.en.name,n=t.airline.en.name;return a.localeCompare(n)}:function(e,t){var a=e.airline.en.name;return t.airline.en.name.localeCompare(a)}),Object(o.a)(n,"flight",a===y?function(e,t){return e.fltNo-t.fltNo}:function(e,t){return t.fltNo-e.fltNo}),Object(o.a)(n,"status",a===y?function(e,t){return e.status.localeCompare(t.status)}:function(e,t){return t.status.localeCompare(e.status)}),n)[t];return e.sort(r)}},{key:"getDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getDate(),"-").concat(e.getMonth()+1,"-").concat(e.getFullYear())}},{key:"fetch",value:function(){var e=this;this.setState({isLoading:!0}),N.getData(this.state.date).then(function(t){var a=t.arrival,n=t.departure;e.setState({arrival:a,departure:n,isLoading:!1})})}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this.state,t=e.arrival,a=e.departure,n=e.tab,l=e.date,c=e.day,o=e.sortField,i=e.isLoading,u=e.sortOrder,s=n===p?t:a;o&&(s=this.sortData(s,o,u));var m=i?r.a.createElement("div",{className:"spinner spinner-border text-primary"}):r.a.createElement(k,{data:s,setrSortField:this.setrSortField});return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{toogleTab:this.toogleTab,toogleDay:this.toogleDay}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("main",null,r.a.createElement("h2",{className:"mb-2 mt-2 text-uppercase"},n," \xa0",r.a.createElement("small",null,c,": \xa0"),r.a.createElement("small",null,l)),m)))))}}]),t}(n.Component));c.a.render(r.a.createElement(F,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.0daedfde.chunk.js.map