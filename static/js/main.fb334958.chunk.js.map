{"version":3,"sources":["components/nav-item/index.js","components/nav-item/nav-item.js","helpers/constants.js","components/nav/index.js","components/nav/nav.js","components/header/index.js","components/header/header.js","components/table-row/index.js","components/table-row/table-row.js","components/table/index.js","components/table/table.js","helpers/filter-constants.js","services/api/api-service.js","components/app/index.js","components/app/app.js","index.js"],"names":["NavItem","_ref","clickItem","children","react_default","a","createElement","className","type","onClick","ARRIVALS","DAY_YESTERDAY","DAY_TODAY","DAY_TOMORROV","Nav","toogleTab","toogleDay","Fragment","components_nav_item","Header","props","components_nav","TableRow","_props$row","row","term","gateNo","from","to","airline","en","name","fltNo","status","actual","date","Date","time","concat","getHours","getMinutes","Table","data","setrSortField","scope","map","components_table_row","key","ID","api_service","_baseUrl","getData","fetch","_this","then","response","json","body","App","state","tab","arrival","departure","getDate","day","sortField","isLoading","newTab","setState","newDay","setDate","_callbackMap","callback","Object","defineProperty","b","localeCompare","destA","destB","airlineA","airlineB","sort","arguments","length","undefined","getFullYear","getMonth","_this2","this","ApiService","_this$state","sortData","content","components_table","components_header","Component","ReactDOM","render","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.fb334958.chunk.js","sourcesContent":["import NavItem from './nav-item';\r\n\r\nexport default NavItem;\r\n","import React from 'react';\r\n\r\nconst NavItem = ({ clickItem, children }) => {\r\n  return (\r\n    <li className=\"nav-item\">\r\n      <button type=\"button\" className=\"btn nav-link\" onClick={clickItem}>\r\n        {children}\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default NavItem;\r\n","export const ARRIVALS = 'arrivals';\r\nexport const DEPARTURES = 'departures';\r\nexport const DAY_YESTERDAY = 'yesterday';\r\nexport const DAY_TODAY = 'today';\r\nexport const DAY_TOMORROV = 'tomorrow';\r\n","import Nav from './nav';\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\nimport NavItem from '../nav-item';\r\nimport { ARRIVALS, DEPARTURES, DAY_YESTERDAY, DAY_TODAY, DAY_TOMORROV } from '../../helpers/constants';\r\n\r\nconst Nav = ({ toogleTab, toogleDay }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"nav nav-tabs\">\r\n        <NavItem clickItem={() => toogleTab(ARRIVALS)}>Arrivals</NavItem>\r\n        <NavItem clickItem={() => toogleTab(DEPARTURES)}>Departures</NavItem>\r\n      </ul>\r\n      <ul className=\"nav nav-tabs ml-auto\">\r\n        <NavItem clickItem={() => toogleDay(DAY_YESTERDAY)}>Yesterday</NavItem>\r\n        <NavItem clickItem={() => toogleDay(DAY_TODAY)}>Today</NavItem>\r\n        <NavItem clickItem={() => toogleDay(DAY_TOMORROV)}>Tomorrow</NavItem>\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import Header from './header';\n\nexport default Header;\n","import React from 'react';\nimport Nav from '../nav';\nimport './header.css';\n\nconst Header = props => {\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-12 d-flex align-items-center\">\n            <ul className=\"nav\">\n              <li className=\"nav-item\">\n                <span className=\"logo\">Airport</span>\n              </li>\n            </ul>\n            <Nav {...props} />\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import TableRow from './table-row';\n\nexport default TableRow;\n","import React from 'react';\n\nconst TableRow = (props) => {\n  const {\n    row: {\n      term,\n      gateNo,\n      'airportFromID.city_en' : from,\n      'airportToID.city_en': to,\n      airline: { en: { name: airline } },\n      fltNo,\n      status,\n      actual,\n    },\n  } = props;\n\n  const date = new Date(actual);\n  const time = `${date.getHours()}:${ date.getMinutes()}`;\n\n  return (\n    <tr>\n      <td>{ term }</td>\n      <td>{ gateNo }</td>\n      <td>{ time }</td>\n      <td>{ from || to }</td>\n      <td>{ airline }</td>\n      <td>{ fltNo }</td>\n      <td>{ status }</td>\n    </tr>\n  );\n};\n\nexport default TableRow;\n","import Table from './table';\n\nexport default Table;\n","import React from 'react';\nimport TableRow from '../table-row';\nimport {\n  SORT_ORDER_TERMINAL,\n  SORT_ORDER_TIME,\n  SORT_ORDER_DESTINATION,\n  SORT_ORDER_AIRLINE,\n  SORT_ORDER_FLIGHT,\n  SORT_ORDER_STATUS,\n} from '../../helpers/filter-constants';\n\nimport './table.css';\n\nconst Table = ({ data, setrSortField }) => {\n  return (\n    <table className=\"table\">\n      <thead>\n        <tr>\n          <th scope=\"col\" onClick={() => setrSortField(SORT_ORDER_TERMINAL)}>\n            Terminal\n          </th>\n          <th scope=\"col\">Gate</th>\n          <th scope=\"col\" onClick={() => setrSortField(SORT_ORDER_TIME)}>\n            Time\n          </th>\n          <th scope=\"col\" onClick={() => setrSortField(SORT_ORDER_DESTINATION)}>\n            Destination\n          </th>\n          <th scope=\"col\" onClick={() => setrSortField(SORT_ORDER_AIRLINE)}>\n            Airline\n          </th>\n          <th scope=\"col\" onClick={() => setrSortField(SORT_ORDER_FLIGHT)}>\n            Flight #\n          </th>\n          <th scope=\"col\" onClick={() => setrSortField(SORT_ORDER_STATUS)}>\n            Status\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map(row => (\n          <TableRow row={row} key={row.ID} />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Table;\n","export const SORT_ORDER_TERMINAL = 'terminal';\r\nexport const SORT_ORDER_TIME = 'time';\r\nexport const SORT_ORDER_DESTINATION = 'destination';\r\nexport const SORT_ORDER_AIRLINE = 'airline';\r\nexport const SORT_ORDER_FLIGHT = 'flight';\r\nexport const SORT_ORDER_STATUS = 'status';\r\n","class ApiService {\n\n  _baseUrl = 'https://api.iev.aero/api/flights/';\n\n  getData = date => {\n    return fetch(`${this._baseUrl}${date}`)\n      .then(response => response.json())\n      .then(data => data.body)\n  }\n\n}\n\nexport default new ApiService();\n","import App from './app';\n\nexport default App;\n","import React, { Component } from 'react';\nimport Header from '../header';\nimport Table from '../table';\nimport ApiService from '../../services/api/api-service';\nimport { ARRIVALS, DAY_YESTERDAY, DAY_TODAY, DAY_TOMORROV } from '../../helpers/constants';\nimport {\n  SORT_ORDER_TERMINAL,\n  SORT_ORDER_TIME,\n  SORT_ORDER_DESTINATION,\n  SORT_ORDER_AIRLINE,\n  SORT_ORDER_FLIGHT,\n  SORT_ORDER_STATUS,\n} from '../../helpers/filter-constants';\n\nimport './app.css';\n\nclass App extends Component {\n  state = {\n    tab: ARRIVALS,\n    arrival: [],\n    departure: [],\n    date: this.getDate(),\n    day: DAY_TODAY,\n    sortField: null,\n    isLoading: false,\n  };\n\n  toogleTab = newTab => {\n    if (newTab !== this.state.tab) {\n      this.setState({ tab: newTab, sortField: null });\n    }\n  };\n\n  toogleDay = newDay => {\n    if (newDay !== this.state.day) {\n      const date = new Date();\n      // eslint-disable-next-line default-case\n      switch (newDay) {\n        case DAY_YESTERDAY:\n          date.setDate(new Date().getDate() - 1);\n          break;\n        case DAY_TOMORROV:\n          date.setDate(new Date().getDate() + 1);\n          break;\n      }\n\n      this.setState({ date: this.getDate(date), day: newDay, sortField: null }, () => this.fetch());\n    }\n  };\n\n  setrSortField = sortField => {\n    if (this.state.sortField !== sortField) {\n      this.setState({ sortField });\n    }\n  };\n\n  sortData(data, sortField) {\n    const callbackMap = {\n      [SORT_ORDER_TERMINAL]: (a, b) => a.term.localeCompare(b.term),\n      [SORT_ORDER_TIME]: (a, b) => new Date(a.actual) - new Date(b.actual),\n      [SORT_ORDER_DESTINATION]: (a, b) => {\n        const destA = a['airportFromID.city_en'] || a['airportToID.city_en'];\n        const destB = b['airportFromID.city_en'] || b['airportToID.city_en'];\n        return destA.localeCompare(destB);\n      },\n      [SORT_ORDER_AIRLINE]: (a, b) => {\n        const airlineA = a.airline.en.name;\n        const airlineB = b.airline.en.name;\n        return airlineA.localeCompare(airlineB);\n      },\n      [SORT_ORDER_FLIGHT]: (a, b) => a.fltNo - b.fltNo,\n      [SORT_ORDER_STATUS]: (a, b) => a.status.localeCompare(b.status),\n    };\n\n    const callback = callbackMap[sortField];\n\n    return data.sort(callback);\n  }\n\n  getDate(date = new Date()) {\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n  }\n\n  fetch() {\n    this.setState({ isLoading: true });\n    ApiService.getData(this.state.date).then(data => {\n      const { arrival, departure } = data;\n      this.setState({ arrival, departure, isLoading: false });\n    });\n  }\n\n  componentDidMount() {\n    this.fetch();\n  }\n\n  render() {\n    const { arrival, departure, tab, date, day, sortField, isLoading } = this.state;\n    let data = tab === ARRIVALS ? arrival : departure;\n\n    if (sortField) {\n      data = this.sortData(data, sortField);\n    }\n\n    const content = isLoading ? (\n      <div className=\"spinner spinner-border text-primary\"></div>\n    ) : (\n      <Table data={data} setrSortField={this.setrSortField} />\n    );\n\n    return (\n      <>\n        <Header toogleTab={this.toogleTab} toogleDay={this.toogleDay} />\n\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <main>\n                <h2 className=\"mb-2 mt-2 text-uppercase\">\n                  {tab} &nbsp;\n                  <small>{day}: &nbsp;</small>\n                  <small>{date}</small>\n                </h2>\n                {content}\n              </main>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}